:MenuDelJugador
NUMBER_PAGE = 1
CURRENT_PAGE = 1

Menu.SetColumn(hPanel, 0, 'M0000DQ','M0000RE','M0000CA','M00000@','VSEARCH','VFIGHT',none,none,none,none,none,none,none)
//Menu.SetColumn(hPanel, 0, 'M0000DQ','M0000RE','M0000CA','M00000@','VSEARCH','VFIGHT','VMODEL','M0000DZ','M0000A2','M0000S0','M00000E',none,none)

if PLAYER_ANIM_LIB > PLAYER_ANIM_LIB_NONE
then 
	0@ = PLAYER_ANIM_ID
	if PLAYER_ANIM_LIB == PLAYER_ANIM_LIB_DYOS
	then 0@ *= -1
	end
	Menu.SetItemWithNumber(hPanel, 1, 0, 'M0000US', 0@) // ~b~1
end

0@ = Actor.GetCurrentWeapon(hPlayer)
Menu.SetItemWithNumber(hPanel, 1, 1, 'M0000US', 0@) // ~b~1

1@ = Actor.GetHealth(hPlayer)
Menu.SetItemWithNumber(hPanel, 1, 2, 'M0000US', 1@) // ~b~1

0@ = Player.GetWantedLevel(hChar)
Menu.SetItemWithNumber(hPanel, 1, 3, 'M0000US', 0@) // ~b~1

Menu.SetItemWithNumber(hPanel, 1, 4, 'M0000US', PLAYER_FIGHT) // ~b~1

call @Buffer_Var_Get 1 B_VAR_PLAYER_MODEL 0@
Menu.SetItemWithNumber(hPanel, 1, 5, 'M0000US', 0@) // ~b~1

Menu_Take_Return()
Menu_Take_Selection()
repeat
	if Menu_Close_Forced()
	then jump @Menu_Close
	end

	switch _SELECTED
		case 0 // Animation
			DYOS_HELP_ID = 2
			if VK_Ctrl()
			then
		    if 0A9A: FILE_HANDLE = DIR_DYOS "ab"
		    then
		      FILE_COMMAND = 5 // actor.animation
		      0A9E: write_file FILE_HANDLE size 4 to FILE_COMMAND
		      0A9E: write_file FILE_HANDLE size 4 to PLAYER_ANIM_LIB
		      0A9E: write_file FILE_HANDLE size 4 to PLAYER_ANIM_ID
		      0A9E: write_file FILE_HANDLE size 4 to PLAYER_FLAGS
		      
		      Fs.Close(FILE_HANDLE)
	        VK_Take_Ctrl()
				end
			end
		case 1 // Weapon
			DYOS_HELP_ID = 3
			if VK_Ctrl()
			then
		    if 0A9A: FILE_HANDLE = DIR_DYOS "ab"
		    then
	        FILE_COMMAND = 3 // actor.IsLocated
	        0A9E: write_file FILE_HANDLE size 4 to FILE_COMMAND
	          
	        0@ = Actor.GetCurrentWeapon(hPlayer)
	        1@ = Actor.GetWeaponAmmo(hPlayer, 0@)
	        call @Weapon_GetModelID 1 0@ ret 2@

	        0A9E: write_file FILE_HANDLE size 4 to -1 // -1 is player
	          
	        0A9E: write_file FILE_HANDLE size 4 to 2@ // Model
	        0A9E: write_file FILE_HANDLE size 4 to 0@ // Weapon
	        0A9E: write_file FILE_HANDLE size 4 to 1@ // Ammon

	        Fs.Close(FILE_HANDLE)
        	VK_Take_Ctrl()
        end
			end
		case 2 // Health
			DYOS_HELP_ID = 4
			if VK_Ctrl()
			then
		    if 0A9A: FILE_HANDLE = DIR_DYOS "ab"
		    then
	        FILE_COMMAND = 8 // set player.health
	        0A9E: write_file FILE_HANDLE size 4 to FILE_COMMAND
	          
	        0@ = Actor.GetHealth(hPlayer)
	        0A9E: write_file FILE_HANDLE size 4 to 0@

	        Fs.Close(FILE_HANDLE)
        	VK_Take_Ctrl()
        end
			end
		case 3 // Search
			DYOS_HELP_ID = 5
			if VK_Ctrl()
			then
		    if 0A9A: FILE_HANDLE = DIR_DYOS "ab"
		    then
	        FILE_COMMAND = 0 // player.SetWantedLevel
	        0A9E: write_file FILE_HANDLE size 4 to FILE_COMMAND
	          
	        0@ = Player.GetWantedLevel(hChar)
	        0A9E: write_file FILE_HANDLE size 4 to 0@

	        Fs.Close(FILE_HANDLE)
        	VK_Take_Ctrl()
        end
			end
		case 4 // Fight
			DYOS_HELP_ID = 6
			if VK_Ctrl()
			then
		    if 0A9A: FILE_HANDLE = DIR_DYOS "ab"
		    then
	        FILE_COMMAND = 6 // set player.fight
	        0A9E: write_file FILE_HANDLE size 4 to FILE_COMMAND
	        
	        0A9E: write_file FILE_HANDLE size 4 to PLAYER_FIGHT

	        Fs.Close(FILE_HANDLE)
        	VK_Take_Ctrl()
        end
			end
		default
			nop
	end

	if Menu_Enter()
	then
		setMenuClear()
		Menu.SetActiveItem(hPanel, 0)

		switch _SELECTED
			case 0 // Animation

				call @MutexVar_Get 1 JUEGO_VELOCIDAD_CAMBIADA 0@
				if 0@ == true
				then Text.PrintHelp('M0000QC') // Estas pueden tardar mas tiempo en cargar, al cambiar la velocidad del juego.
				else
					if bit_is_true PLAYER_FLAGS PLAYER_PROP_COLISION
					then Text.PrintHelp('M0000FN') // Los resultados mejoran si el Player no coliciona.
					end
				end
				{$I ./anims.txt} 
				setMenuClear()
				Menu.SetActiveItem(hPanel, 0)
				jump @MenuDelJugador

			case 1 // Weapon

				{$I ./weapon.txt}
				Menu.SetActiveItem(hPanel, 1)
				jump @MenuDelJugador
		
			case 2 // Health
			
				{$I ./health.txt}
				Menu.SetActiveItem(hPanel, 2)
				jump @MenuDelJugador

			case 3 // Search
			
				{$I ./search.txt}
				setMenuClear()
				Menu.SetActiveItem(hPanel, 3)
				jump @MenuDelJugador
			

			case 4 // Fight

				{$I ./fight.txt}  
				Menu.SetActiveItem(hPanel, 4)
				jump @MenuDelJugador
				
			default
				Text.PrintHelp('M0000WQ') // fuera de rango
		end//switch _SELECTED
	end
until Menu_Return()  
Menu.SetActiveItem(hPanel, MENU_PLAYER)
setMenuClear()
jump @Menu_iMain