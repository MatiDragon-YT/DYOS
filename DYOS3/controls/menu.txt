:Menu_Enter
	Menu_Print_Pagination() // 1/2 1/3 1/4 etc...
	//call @DispleyCoorsTouch 0

	if NUMBER_PAGE > 1 // no mostrar botones sino se pueden usar.
	then MovimientoVerticalDelMenu()
	end

	MovimientoHorizontalDelMenu()
	//GirarCamara()

	_SELECTED = Menu.GetItemSelected(hPanel)

	:Menu_Select
	0DD5: CURRENT_PLATFORM = get_platform
	if CURRENT_PLATFORM == __PLATFORM_WINDOWS
	then
		if Key.IsPressed(VK.R)
		then return
		end
		return_false
	else
		if Widget.IsPressed(100) // Fire
		then
			Actor.GetPosition(hPlayer, tempvar_X_coord,tempvar_Y_coord,tempvar_Z_coord)
			Audio.ReportEventAtPosition(tempvar_X_coord,tempvar_Y_coord,tempvar_Z_coord, 1054)
			return
		end
	end
return

:Menu_Return
	//GirarCamara()
	//FixUpdate()
	_SELECTED = Menu.GetItemSelected(hPanel)
	WaitMenu()
	if VK_Exit()
	then
		Text.ClearHelp()
		0DD5: CURRENT_PLATFORM = get_platform
		if CURRENT_PLATFORM == __PLATFORM_ANDROID
		then
			Actor.GetPosition(hPlayer, tempvar_X_coord,tempvar_Y_coord,tempvar_Z_coord)
			Audio.ReportEventAtPosition(tempvar_X_coord,tempvar_Y_coord,tempvar_Z_coord, 1054)
			return
		end
		if CURRENT_PLATFORM == __PLATFORM_WINDOWS
		then return
		end
	end
return


:MovimientoVerticalDelMenu
	if 803A: not CURRENT_PAGE == NUMBER_PAGE
	then
		if VK_Right()
		then CURRENT_PAGE++
			while VK_Right()
				WaitMenu()
			end
		end
	end
	if not CURRENT_PAGE == 1
	then
		if VK_Left()
		then CURRENT_PAGE--
			while VK_Left()
				WaitMenu()
			end
		end
	end
return

:MovimientoHorizontalDelMenu
	if CURRENT_PLATFORM == __PLATFORM_ANDROID
	then
		0@ = Menu.GetItemSelected(hPanel)
		if  Widget.IsPressed(97) // Up arrow
		then
			0@--
			Actor.GetPosition(hPlayer, x,y,z)
			Audio.ReportEventAtPosition(x,y,z, 1055)
			Menu.SetActiveItem(hPanel, 0@)
			while Widget.IsPressed(97) // Up arrow
				WaitMenu()
			end
		end
		if Widget.IsPressed(98) // Down arrow
		then
			0@++
			Actor.GetPosition(hPlayer, x,y,z)
			Audio.ReportEventAtPosition(x,y,z, 1055)
			Menu.SetActiveItem(hPanel, 0@)
			while Widget.IsPressed(98) // Down arrow
				WaitMenu()
			end
		end
	end
return

:Menu_Close_Forced
    if VK_Escape()
    then
    	VK_Take_Escape()

		call @Buffer_Var_Get 1 B_VAR_MENU_DISPLAY = 0@
			
    	if 0@ == MENU_DISPLAY_NONE
    	then Menu_Display_Show()
    	end

    	return_true
    	return
    end
return

:Menu_Take_Return
	while Menu_Return()
		WaitMenu()
	end
return

:Menu_Take_Selection
	while Menu_Enter()
		WaitMenu()
	end
return

:FrenarPaginacion
	while MovimientoVerticalDelMenu()
		WaitMenu()
	end
return

:Menu_Take_Left
	while VK_Left()
		WaitMenu()
	end
return

:Menu_Take_Right
	while VK_Right()
		WaitMenu()
	end
return

:FrenoMenuVertical
	while VK_Left()
		WaitMenu()
	end
	while VK_Right()
		WaitMenu()
	end
return